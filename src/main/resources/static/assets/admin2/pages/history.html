
<!-- Navbar -->
<nav
	class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl "
	id="navbarBlur" data-scroll="false">
	<div class="container-fluid py-1 px-3">
		<nav aria-label="breadcrumb">
			<ol
				class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
				<li class="breadcrumb-item text-sm"><a
					class="opacity-5 text-white" href="javascript:;">Pages</a></li>
				<li class="breadcrumb-item text-sm text-white active"
					aria-current="page">History</li>
			</ol>
			<h6 class="font-weight-bolder text-white mb-0">History</h6>
		</nav>
		<div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4"
			id="navbar">
			<div class="ms-md-auto w-30 pe-md-3 d-flex flex-column align-items-center">
				<div class="input-group">
					<input type="text" style="border-radius: 10px;"
						class="form-control" placeholder="Search order id or user"
						ng-model="searchText" ng-keyup="updateSuggestions()">
				       <div class="suggestions mt-2"
					ng-show="showSuggestions && suggestions.length > 0">
					<div ng-repeat="suggestion in suggestions">
						<span
							
							ng-click="selectSuggestion(suggestion)"> {{ suggestion.id }} - {{suggestion.username}} 
						</span>
					</div>
				</div>
				</div>
              
				<!-- Suggestions Section -->
				

				<!-- Suggestions Section -->


			</div>

			<ul class="navbar-nav  justify-content-end">
				<li class="nav-item d-xl-none ps-3 d-flex align-items-center">
					<a href="javascript:;" class="nav-link text-white p-0"
					id="iconNavbarSidenav">
						<div class="sidenav-toggler-inner">
							<i class="sidenav-toggler-line bg-white"></i> <i
								class="sidenav-toggler-line bg-white"></i> <i
								class="sidenav-toggler-line bg-white"></i>
						</div>
				</a>
				</li>
				<li class="nav-item px-3 d-flex align-items-center"><a
					href="javascript:;" class="nav-link text-white p-0"> <i
						class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i>
				</a></li>
				<li class="nav-item dropdown pe-2 d-flex align-items-center"><a
					href="javascript:;" class="nav-link text-white p-0"
					id="dropdownMenuButton" data-bs-toggle="dropdown"
					aria-expanded="false"> <i class="fa fa-bell cursor-pointer"></i>
				</a>
					<ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4"
						aria-labelledby="dropdownMenuButton">
						<li class="mb-2"><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div class="my-auto">
										<img src="img/team-2.jpg" class="avatar avatar-sm  me-3 ">
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">
											<span class="font-weight-bold">New message</span> from Laur
										</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 13 minutes ago
										</p>
									</div>
								</div>
						</a></li>
						<li class="mb-2"><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div class="my-auto">
										<img src="img/small-logos/logo-spotify.svg"
											class="avatar avatar-sm bg-gradient-dark  me-3 ">
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">
											<span class="font-weight-bold">New album</span> by Travis
											Scott
										</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 1 day
										</p>
									</div>
								</div>
						</a></li>
						<li><a class="dropdown-item border-radius-md"
							href="javascript:;">
								<div class="d-flex py-1">
									<div
										class="avatar avatar-sm bg-gradient-secondary  me-3  my-auto">
										<svg width="12px" height="12px" viewBox="0 0 43 36"
											version="1.1" xmlns="http://www.w3.org/2000/svg"
											xmlns:xlink="http://www.w3.org/1999/xlink">
													<title>credit-card</title>
													<g stroke="none" stroke-width="1" fill="none"
												fill-rule="evenodd">
														<g transform="translate(-2169.000000, -745.000000)"
												fill="#FFFFFF" fill-rule="nonzero">
															<g transform="translate(1716.000000, 291.000000)">
																<g transform="translate(453.000000, 454.000000)">
																	<path class="color-background"
												d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z"
												opacity="0.593633743"></path>
																	<path class="color-background"
												d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z">
																	</path>
																</g>
															</g>
														</g>
													</g>
												</svg>
									</div>
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1">Payment
											successfully completed</h6>
										<p class="text-xs text-secondary mb-0">
											<i class="fa fa-clock me-1"></i> 2 days
										</p>
									</div>
								</div>
						</a></li>
					</ul></li>
			</ul>
		</div>
	</div>
</nav>
<!-- End Navbar -->
<div class="container-fluid py-4">
	<div class="row">
		<div class="col-12">
			<div class="card mb-4">
				<div class="card-header pb-0">
					<h6>History Edit</h6>
				</div>
				<div class="card-body px-0 pt-0 pb-2">

					<div class="panel panel-default">
						<div class="panel-body">
							<div class="row container text-x font-weight-bolder">
								<div class="col-sm-12">
									<div class="row ">
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>Username</div>
											<input ng-model="form.account.username" class="form-control"
												disabled="disabled">
										</div>
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>Date</div>
											<input ng-model="form.createDate" class="form-control"
												disabled="disabled">
										</div>
									</div>
									<div class="row">
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>Address</div>
											<input ng-model="form.address" class="form-control"
												disabled="disabled">
										</div>
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>To</div>
											<input ng-model="form.nguoinhan" class="form-control"
												disabled="disabled">
										</div>
									</div>
									<div class="row">
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>Total</div>
											<input ng-model="form.tongtien" type="text"
												class="form-control" disabled="disabled">
										</div>
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>Payment orders?</div>
											<div class="form-control">
												<label
													class="radio-inline text-uppercase text-secondary text-xxs font-weight-bolder">
													<input ng-model="form.available" ng-value="true"
													name="available" type="radio">Paid
												</label> <label
													class="radio-inline text-uppercase text-secondary text-xxs font-weight-bolder">
													<input ng-model="form.available" ng-value="false"
													name="available" type="radio">Unpaid
												</label>
											</div>
										</div>
										<div
											class="form-group col-sm-6 text-uppercase text-secondary text-xs font-weight-bolder opacity-7">
											<div>Status?</div>
											<div class="form-control">
												<label
													class="radio-inline text-uppercase text-secondary text-xxs font-weight-bolder">
													<input ng-model="form.status" ng-value="'Đang Giao'"
													name="available" type="radio">Delivered
												</label> <label
													class="radio-inline text-uppercase text-secondary text-xxs font-weight-bolder">
													<input ng-model="form.status" ng-value="'Đang Xác Nhận'"
													name="available" type="radio">Confirm
												</label> <label
													class="radio-inline text-uppercase text-secondary text-xxs font-weight-bolder">
													<input ng-model="form.status" ng-value="'Đã Giao'"
													name="available" type="radio">Completed
												</label> <label
													class="radio-inline text-uppercase text-secondary text-xxs font-weight-bolder">
													<input ng-model="form.status" ng-value="'Đã Hủy'"
													name="available" type="radio" disabled="true">Canceled
												</label>
											</div>
										</div>
									</div>

								</div>




								<div class="panel-footer text-center">
									<button ng-click="create()" ng-disabled="form.id"
										class="btn btn-primary">
										<b class="glyphicon glyphicon-plus"></b> Create
									</button>
									<button ng-click="update()" ng-disabled="!form.id"
										class="btn btn-success">
										<b class="glyphicon glyphicon-save"></b> Update
									</button>
									<button ng-click="delete(form)" ng-disabled="!form.id"
										class="btn btn-danger">
										<b class="glyphicon glyphicon-trash"></b> Delete
									</button>
									<button ng-click="reset()" class="btn btn-info">
										<b class="glyphicon glyphicon-refresh"></b> Reset
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>


<div class="row">
	<div class="col-12">
		<div class="card mb-4">
			<div class="card-header pb-0">
				<h6>List of History</h6>
				<i class="fas fa-calendar" id="calendar" ng-model="selectedDate"></i>
				<input type="text" ng-model="selectedDate" style="border: none"
					disabled="true" placeholder="Select a date">
				<!-- Add this HTML code within the <nav> tag or wherever you want the filter dropdown -->
                 <button class="btn btn-info btn-sm" ng-click="refreshPage()">Refresh</button>
			</div>
			<div class="card-body px-0 pt-0 pb-2 w-100">
				<div class="table-responsive p-0">
					<table class="table align-items-center justify-content-center mb-0">
						<thead>
							<tr>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
									ID</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ">
									Username</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ">
									Create Date</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									Address</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									To</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									Total</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									Discount Code</th>

								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									Status</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									Show Order Detail</th>
								<th
									class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7">
									Action</th>
								<th></th>
							</tr>
						</thead>
						<tbody class="text-xs font-weight-bolder text-center ">
							<tr ng-repeat="item in filteredItems">
								<td>{{item.id}}</td>
								<td>{{item.account.username}}</td>
								<td>{{item.createDate | date:'dd/MM/yyyy'}}</td>
								<td class="text-truncate" style="max-width: 200px">
									{{item.address}}</td>
								<td>{{item.nguoinhan}}</td>
								<td>{{item.tongtien}}</td>
								<td>{{ item.discountCode.id }} {{ item.discountCode.code ||
									'No Discount' }}</td>
								<td
									ng-class="{'btn-show': item.status == 'Đã Giao', 'btn-hide': item.status == 'Đang Giao','btn-cancel': item.status == 'Đã Hủy'}">
									<span ng-if="item.status == 'Đang Xác Nhận'">Chờ xác
										nhận</span> <span ng-if="item.status == 'Đã Hủy'">Đã hủy</span> <span
									ng-if="item.status == 'Đã Giao'">Đã hoàn thành</span> <span
									ng-if="item.status == 'Đang Giao'">Đang giao hàng</span>
								</td>

								<td
									ng-class="{'btn-show':item.available,'btn-cancel':!item.available}">{{item.available?'Đã
									thanh toán':'Chưa thanh toán'}}</td>
								<td><button ng-click="getDetailData(item)"
										class="btn btn-primary">{{item.showDetail ? 'Hide' :
										'Show'}}</button></td>
								<td>
									<div class="btn-group btn-group-xs">
										<a ng-click="edit(item)" href="" class="btn btn-warning"
											ng-if="item.status == 'Đang Giao' || item.status=='Đang Xác Nhận' || item.status=='Đã Giao'">
											<i class="fa-solid fa-pen-to-square"></i>
										</a> <a ng-click="delete(item)" href="" class="btn btn-danger"
											ng-if="item.status == 'Đang Giao' || item.status=='Đang Xác Nhận'">
											<i class="fa-solid fa-trash"></i>
										</a>
									</div>
								</td>

							</tr>
						</tbody>
					</table>

					<div class="panel-footer text-center">
						<button ng-click="pager.first()" class="btn " style="width: 60px;">
							<i class="fa-solid fa-backward-step"></i>
						</button>
						<button ng-click="pager.prev()" class="btn " style="width: 60px;">
							<i class="fa-solid fa-backward"></i>
						</button>
						<button class="btn btn-success">{{pager.page + 1}} of
							{{pager.count}}</button>
						<button ng-click="pager.next()" class="btn " style="width: 60px;">
							<i class="fa-solid fa-forward"></i>
						</button>
						<button ng-click="pager.last()" class="btn" style="width: 60px;">
							<i class="fa-solid fa-forward-step"></i>
						</button>
					</div>




					<div ng-repeat="item in filteredItems">
						<div class="fixed-top">
							<table class="table table-condensed detail-table"
								ng-show="item.showDetail">
								<thead class="bg-danger"
									style="color: aliceblue; font-variant: small-caps;">
									<th>Id</th>
									<th>Order id</th>
									<th>size</th>
									<th>Name</th>
									<th>Price</th>
									<th>Quantity</th>
								</thead>
								<tbody class="bg-dark" style="color: aliceblue;">
									<tr ng-repeat="detailItem in item.detailData">
										<td>{{detailItem.id}}</td>
										<td>{{detailItem.order.id}}</td>
										<td>{{detailItem.size}}</td>
										<td class="text-truncate">{{detailItem.product.name}}</td>
										<td>{{detailItem.price}}</td>
										<td>{{detailItem.quantity}}</td>
									</tr>
								</tbody>
							</table>






						</div>

					</div>


				</div>
			</div>
		</div>
	</div>
</div>
<footer class="footer pt-3  ">
	<div class="container-fluid">
		<div class="row align-items-center justify-content-lg-between">
			<div class="col-lg-6 mb-lg-0 mb-4">
				<div class="copyright text-center text-sm text-muted text-lg-start">
					©
					<script>
						document.write(new Date().getFullYear())
					</script>
					, made with <i class="fa fa-heart"></i> by <a
						href="https://www.creative-tim.com" class="font-weight-bold"
						target="_blank">Creative Tim</a> for a better web.
				</div>
			</div>
			<div class="col-lg-6">
				<ul
					class="nav nav-footer justify-content-center justify-content-lg-end">
					<li class="nav-item"><a href="https://www.creative-tim.com"
						class="nav-link text-muted" target="_blank">Creative Tim</a></li>
					<li class="nav-item"><a
						href="https://www.creative-tim.com/presentation"
						class="nav-link text-muted" target="_blank">About Us</a></li>
					<li class="nav-item"><a
						href="https://www.creative-tim.com/blog"
						class="nav-link text-muted" target="_blank">Blog</a></li>
					<li class="nav-item"><a
						href="https://www.creative-tim.com/license"
						class="nav-link pe-0 text-muted" target="_blank">License</a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>
</div>