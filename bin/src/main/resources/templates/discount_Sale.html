<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Discount Sales</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<div class="container">
		<h1>Discount Sales</h1>
		<div th:if="${error}" class="alert alert-danger">
			<p th:text="${error}"></p>
		</div>
		<!-- Form thêm mới -->
		<form action="/discountsales" method="post" th:object="${item}"
			class="form" role="form">
			<div class="form-group">
				<input type="hidden" class="form-control" id="code"
					th:field="${item.id}" name="id" required>
			</div>
			<div class="form-group">
				<label for="name">Name:</label> <input type="text"
					class="form-control" id="name" th:field="*{name}" name="name"
					required="required">
			</div>
			<div class="form-group">
				<label for="expirationDate">Start Date:</label> <input type="date"
					class="form-control" th:field="${item.startDate}"
					id="expirationDate" name="startDate" required>
			</div>
			<div class="form-group">
				<label for="expirationDate">End Date:</label> <input type="date"
					class="form-control" id="expirationDate" th:field="${item.endDate}"
					name="endDate" required>
			</div>
			<div class="form-group">
				<label for="percentage">Percentage:</label> <input type="number"
					class="form-control" id="percentage" name="percentage"
					th:field="*{percentage}" required="required">
			</div>
		<!-- 	<div class="form-group">
				<label for="product">Product:</label> <select class="form-control"
					id="product" name="product" th:field="${item.product.id}"
					required="required">
					<option value="">Select Product</option>
					<option th:each="product : ${products}" th:value="${product.id}"
						th:text="${product.name}"
						th:selected="${product.id == item.product.id}"></option>
				</select>
			</div> -->



			<div class="form-group">
				<label for="activate">Activate:</label> <input type="checkbox"
					class="form-check-input ml-2 mt-2" id="activate"
					th:field="${item.activate}" name="activate">
			</div>
			<button type="submit" class="btn btn-primary"
				formaction="/discountsales/add">Create</button>

			<button type="submit" class="btn btn-primary"
				formaction="/discountsales/update">Update</button>

			<button type="submit" class="btn btn-primary"
				formaction="/discountsales/clear">Clear</button>
		</form>

		<!-- Danh sách khuyến mãi -->
		<table class="table table-bordered mt-4">
			<thead>
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Start Date</th>
					<th>End Date</th>
					<th>Percentage</th>
				
					<th>Activate</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="discountSale : ${discountSales}">
					<td th:text="${discountSale.id}"></td>
					<td th:text="${discountSale.name}"></td>
					<td th:text="${discountSale.startDate}"></td>
					<td th:text="${discountSale.endDate}"></td>
					<td th:text="${discountSale.percentage}"></td>
				
					<td th:text="${discountSale.activate}"></td>
					<td><a class="btn btn-primary btn-sm"
						th:href="@{/discountsales/edit/{id}(id=${discountSale.id})}">Edit</a>
						<a class="btn btn-danger btn-sm"
						th:href="@{/discountsales/delete/{id}(id=${discountSale.id})}"
						onclick="return confirm('Are you sure?')">Delete</a></td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>
